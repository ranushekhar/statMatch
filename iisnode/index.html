<html>
<head>
    <title>iisnode logs</title>
    <style type="text/css">
        body
        {
            font-family: "Trebuchet MS" , Arial, Helvetica, sans-serif;
        }
        table
        {
            border-collapse: collapse;
        }
        td, th
        {
            border: 1px solid lightgray;
            padding: 3px 7px 2px 7px;
        }
        th
        {
            text-align: left;
            padding-top: 5px;
            padding-bottom: 4px;
            background-color: Gray;
            color: #ffffff;
        }
        td.stderr
        {
            color: Red;
        }
    </style>
</head>
<body>
    <table id="logFilesTable">
        <tr>
            <th>
                Computer name
            </th>
            <th>
                PID
            </th>
            <th>
                Type
            </th>
            <th>
                Created
            </th>
            <th>
                Link
            </th>
        </tr>
    </table>
    <p id="lastUpdated"></p>
    <script type="text/javascript">

        // this is replaced with actual data at runtime by code in interceptor.js
        var logFiles = [{"file":"RANU-LAPTOP-1280-stderr-1369676144896.txt","computername":"RANU-LAPTOP","pid":1280,"type":"stderr","created":1369676144896},{"file":"RANU-LAPTOP-1280-stdout-1369676144891.txt","computername":"RANU-LAPTOP","pid":1280,"type":"stdout","created":1369676144891},{"file":"RANU-LAPTOP-1792-stdout-1369676930174.txt","computername":"RANU-LAPTOP","pid":1792,"type":"stdout","created":1369676930174},{"file":"RANU-LAPTOP-2128-stderr-1369677985584.txt","computername":"RANU-LAPTOP","pid":2128,"type":"stderr","created":1369677985584},{"file":"RANU-LAPTOP-2128-stdout-1369677985568.txt","computername":"RANU-LAPTOP","pid":2128,"type":"stdout","created":1369677985568},{"file":"RANU-LAPTOP-2336-stderr-1369675525852.txt","computername":"RANU-LAPTOP","pid":2336,"type":"stderr","created":1369675525852},{"file":"RANU-LAPTOP-2336-stdout-1369675525850.txt","computername":"RANU-LAPTOP","pid":2336,"type":"stdout","created":1369675525850},{"file":"RANU-LAPTOP-2716-stdout-1369675743604.txt","computername":"RANU-LAPTOP","pid":2716,"type":"stdout","created":1369675743604},{"file":"RANU-LAPTOP-2804-stdout-1369674415597.txt","computername":"RANU-LAPTOP","pid":2804,"type":"stdout","created":1369674415597},{"file":"RANU-LAPTOP-2944-stdout-1369678215568.txt","computername":"RANU-LAPTOP","pid":2944,"type":"stdout","created":1369678215568},{"file":"RANU-LAPTOP-2992-stdout-1369676325154.txt","computername":"RANU-LAPTOP","pid":2992,"type":"stdout","created":1369676325154},{"file":"RANU-LAPTOP-3128-stdout-1369676828561.txt","computername":"RANU-LAPTOP","pid":3128,"type":"stdout","created":1369676828561},{"file":"RANU-LAPTOP-3232-stdout-1369678643690.txt","computername":"RANU-LAPTOP","pid":3232,"type":"stdout","created":1369678643690},{"file":"RANU-LAPTOP-3288-stdout-1369676175682.txt","computername":"RANU-LAPTOP","pid":3288,"type":"stdout","created":1369676175682},{"file":"RANU-LAPTOP-3348-stdout-1369678417356.txt","computername":"RANU-LAPTOP","pid":3348,"type":"stdout","created":1369678417356},{"file":"RANU-LAPTOP-3440-stderr-1369677301263.txt","computername":"RANU-LAPTOP","pid":3440,"type":"stderr","created":1369677301263},{"file":"RANU-LAPTOP-3440-stderr-1369677689425.txt","computername":"RANU-LAPTOP","pid":3440,"type":"stderr","created":1369677689425},{"file":"RANU-LAPTOP-3440-stdout-1369677301252.txt","computername":"RANU-LAPTOP","pid":3440,"type":"stdout","created":1369677301252},{"file":"RANU-LAPTOP-3440-stdout-1369677689412.txt","computername":"RANU-LAPTOP","pid":3440,"type":"stdout","created":1369677689412},{"file":"RANU-LAPTOP-3484-stdout-1369676843389.txt","computername":"RANU-LAPTOP","pid":3484,"type":"stdout","created":1369676843389},{"file":"RANU-LAPTOP-3508-stdout-1369678264406.txt","computername":"RANU-LAPTOP","pid":3508,"type":"stdout","created":1369678264406},{"file":"RANU-LAPTOP-3700-stderr-1369678065010.txt","computername":"RANU-LAPTOP","pid":3700,"type":"stderr","created":1369678065010},{"file":"RANU-LAPTOP-3700-stdout-1369678064993.txt","computername":"RANU-LAPTOP","pid":3700,"type":"stdout","created":1369678064993},{"file":"RANU-LAPTOP-3764-stdout-1369676753345.txt","computername":"RANU-LAPTOP","pid":3764,"type":"stdout","created":1369676753345},{"file":"RANU-LAPTOP-3840-stdout-1369677050864.txt","computername":"RANU-LAPTOP","pid":3840,"type":"stdout","created":1369677050864},{"file":"RANU-LAPTOP-3900-stdout-1369676628600.txt","computername":"RANU-LAPTOP","pid":3900,"type":"stdout","created":1369676628600},{"file":"RANU-LAPTOP-3964-stderr-1369677746958.txt","computername":"RANU-LAPTOP","pid":3964,"type":"stderr","created":1369677746958},{"file":"RANU-LAPTOP-3964-stdout-1369677746944.txt","computername":"RANU-LAPTOP","pid":3964,"type":"stdout","created":1369677746944},{"file":"RANU-LAPTOP-4112-stderr-1369676160980.txt","computername":"RANU-LAPTOP","pid":4112,"type":"stderr","created":1369676160980},{"file":"RANU-LAPTOP-4112-stdout-1369676160976.txt","computername":"RANU-LAPTOP","pid":4112,"type":"stdout","created":1369676160976},{"file":"RANU-LAPTOP-4228-stdout-1369678231357.txt","computername":"RANU-LAPTOP","pid":4228,"type":"stdout","created":1369678231357},{"file":"RANU-LAPTOP-4296-stderr-1369677823291.txt","computername":"RANU-LAPTOP","pid":4296,"type":"stderr","created":1369677823291},{"file":"RANU-LAPTOP-4296-stdout-1369677823277.txt","computername":"RANU-LAPTOP","pid":4296,"type":"stdout","created":1369677823277},{"file":"RANU-LAPTOP-4500-stdout-1369675927509.txt","computername":"RANU-LAPTOP","pid":4500,"type":"stdout","created":1369675927509},{"file":"RANU-LAPTOP-4560-stderr-1369678199550.txt","computername":"RANU-LAPTOP","pid":4560,"type":"stderr","created":1369678199550},{"file":"RANU-LAPTOP-4560-stdout-1369678199530.txt","computername":"RANU-LAPTOP","pid":4560,"type":"stdout","created":1369678199530},{"file":"RANU-LAPTOP-4576-stdout-1369677514944.txt","computername":"RANU-LAPTOP","pid":4576,"type":"stdout","created":1369677514944},{"file":"RANU-LAPTOP-4644-stdout-1369676539854.txt","computername":"RANU-LAPTOP","pid":4644,"type":"stdout","created":1369676539854},{"file":"RANU-LAPTOP-4832-stdout-1369677154090.txt","computername":"RANU-LAPTOP","pid":4832,"type":"stdout","created":1369677154090},{"file":"RANU-LAPTOP-4856-stdout-1369678357770.txt","computername":"RANU-LAPTOP","pid":4856,"type":"stdout","created":1369678357770},{"file":"RANU-LAPTOP-4872-stderr-1369677944560.txt","computername":"RANU-LAPTOP","pid":4872,"type":"stderr","created":1369677944560},{"file":"RANU-LAPTOP-4872-stdout-1369677944545.txt","computername":"RANU-LAPTOP","pid":4872,"type":"stdout","created":1369677944545},{"file":"RANU-LAPTOP-5104-stdout-1369676380531.txt","computername":"RANU-LAPTOP","pid":5104,"type":"stdout","created":1369676380531},{"file":"RANU-LAPTOP-5228-stdout-1369678404654.txt","computername":"RANU-LAPTOP","pid":5228,"type":"stdout","created":1369678404654},{"file":"RANU-LAPTOP-5424-stdout-1369678568702.txt","computername":"RANU-LAPTOP","pid":5424,"type":"stdout","created":1369678568702},{"file":"RANU-LAPTOP-5624-stdout-1369678543674.txt","computername":"RANU-LAPTOP","pid":5624,"type":"stdout","created":1369678543674},{"file":"RANU-LAPTOP-5736-stderr-1369677662571.txt","computername":"RANU-LAPTOP","pid":5736,"type":"stderr","created":1369677662571},{"file":"RANU-LAPTOP-5736-stdout-1369677662559.txt","computername":"RANU-LAPTOP","pid":5736,"type":"stdout","created":1369677662559},{"file":"RANU-LAPTOP-5744-stdout-1369676604727.txt","computername":"RANU-LAPTOP","pid":5744,"type":"stdout","created":1369676604727},{"file":"RANU-LAPTOP-5812-stdout-1369676679572.txt","computername":"RANU-LAPTOP","pid":5812,"type":"stdout","created":1369676679572},{"file":"RANU-LAPTOP-5880-stdout-1369676548431.txt","computername":"RANU-LAPTOP","pid":5880,"type":"stdout","created":1369676548431},{"file":"RANU-LAPTOP-6052-stdout-1369678379627.txt","computername":"RANU-LAPTOP","pid":6052,"type":"stdout","created":1369678379627},{"file":"RANU-LAPTOP-6128-stdout-1369677813908.txt","computername":"RANU-LAPTOP","pid":6128,"type":"stdout","created":1369677813908},{"file":"RANU-LAPTOP-6372-stdout-1369678467921.txt","computername":"RANU-LAPTOP","pid":6372,"type":"stdout","created":1369678467921},{"file":"RANU-LAPTOP-660-stdout-1369674500723.txt","computername":"RANU-LAPTOP","pid":660,"type":"stdout","created":1369674500723},{"file":"RANU-LAPTOP-6620-stderr-1369676119859.txt","computername":"RANU-LAPTOP","pid":6620,"type":"stderr","created":1369676119859},{"file":"RANU-LAPTOP-672-stderr-1369677973606.txt","computername":"RANU-LAPTOP","pid":672,"type":"stderr","created":1369677973606},{"file":"RANU-LAPTOP-672-stdout-1369677973590.txt","computername":"RANU-LAPTOP","pid":672,"type":"stdout","created":1369677973590},{"file":"RANU-LAPTOP-68-stdout-1369678290668.txt","computername":"RANU-LAPTOP","pid":68,"type":"stdout","created":1369678290668},{"file":"RANU-LAPTOP-6944-stdout-1369678520661.txt","computername":"RANU-LAPTOP","pid":6944,"type":"stdout","created":1369678520661},{"file":"RANU-LAPTOP-7020-stdout-1369676645598.txt","computername":"RANU-LAPTOP","pid":7020,"type":"stdout","created":1369676645598},{"file":"RANU-LAPTOP-7088-stdout-1369678505147.txt","computername":"RANU-LAPTOP","pid":7088,"type":"stdout","created":1369678505147},{"file":"RANU-LAPTOP-7172-stderr-1369677840459.txt","computername":"RANU-LAPTOP","pid":7172,"type":"stderr","created":1369677840459},{"file":"RANU-LAPTOP-7172-stdout-1369677840442.txt","computername":"RANU-LAPTOP","pid":7172,"type":"stdout","created":1369677840442},{"file":"RANU-LAPTOP-7320-stderr-1369678186685.txt","computername":"RANU-LAPTOP","pid":7320,"type":"stderr","created":1369678186685},{"file":"RANU-LAPTOP-7320-stdout-1369678186666.txt","computername":"RANU-LAPTOP","pid":7320,"type":"stdout","created":1369678186666},{"file":"RANU-LAPTOP-7480-stderr-1369678089677.txt","computername":"RANU-LAPTOP","pid":7480,"type":"stderr","created":1369678089677},{"file":"RANU-LAPTOP-7480-stdout-1369678089656.txt","computername":"RANU-LAPTOP","pid":7480,"type":"stdout","created":1369678089656},{"file":"RANU-LAPTOP-7572-stderr-1369675916908.txt","computername":"RANU-LAPTOP","pid":7572,"type":"stderr","created":1369675916908},{"file":"RANU-LAPTOP-7572-stdout-1369675916905.txt","computername":"RANU-LAPTOP","pid":7572,"type":"stdout","created":1369675916905},{"file":"RANU-LAPTOP-772-stdout-1369678251582.txt","computername":"RANU-LAPTOP","pid":772,"type":"stdout","created":1369678251582},{"file":"RANU-LAPTOP-7760-stderr-1369675889111.txt","computername":"RANU-LAPTOP","pid":7760,"type":"stderr","created":1369675889111},{"file":"RANU-LAPTOP-7760-stdout-1369675889108.txt","computername":"RANU-LAPTOP","pid":7760,"type":"stdout","created":1369675889108},{"file":"RANU-LAPTOP-8028-stderr-1369678035293.txt","computername":"RANU-LAPTOP","pid":8028,"type":"stderr","created":1369678035293},{"file":"RANU-LAPTOP-8028-stdout-1369678035277.txt","computername":"RANU-LAPTOP","pid":8028,"type":"stdout","created":1369678035277},{"file":"RANU-LAPTOP-8088-stdout-1369678307204.txt","computername":"RANU-LAPTOP","pid":8088,"type":"stdout","created":1369678307204}];
        var lastUpdated = 1369678644320;
        var date = new Date();

        date.setTime(lastUpdated);
        document.getElementById('lastUpdated').innerHTML = 'Index was last updated ' + date;

        logFiles.sort(function (a, b) {
            return b.created - a.created;
        });

        var logFilesTable = document.getElementById("logFilesTable");
        for (var i = 0; i < logFiles.length; i++) {
            var logFile = logFiles[i];
            date.setTime(logFile.created);
            var row = logFilesTable.insertRow(-1);
            var computerNameCell = row.insertCell(0);
            var pidCell = row.insertCell(1);
            var typeCell = row.insertCell(2);
            var dateCell = row.insertCell(3);
            var logCell = row.insertCell(4);
            computerNameCell.innerHTML = logFile.computername;
            pidCell.innerHTML = logFile.pid.toString();
            typeCell.innerHTML = logFile.type;
            typeCell.setAttribute('class', logFile.type);
            dateCell.innerHTML = date.toString();
            logCell.innerHTML = '<a href="' + logFile.file + '">log</a>';
        };

    </script>
</body>
</html>
